// src/components/ProductCard.tsx - WITH MODAL TRIGGER - RESPONSIVE FIX
"use client";\n\nimport React, { useState } from 'react';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { Product } from '@/types/product';\nimport { useCart } from '@/context/CartContext';\nimport ProductDescriptionModal from './ProductDescriptionModal';\n\ninterface ProductCardProps {\n  product: Product;\n  index: number;\n}\n\n// Currency formatter defined INLINE\nconst formatCurrency = (amount: number): string => {\n  return new Intl.NumberFormat('en-IN', {\n    style: 'currency',\n    currency: 'INR',\n    minimumFractionDigits: 2,\n  }).format(amount);\n};\n\nconst ProductCard: React.FC<ProductCardProps> = ({ product, index }) => {\n  const { addToCart } = useCart();\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const handleImageClick = () => {\n    setIsModalOpen(true);\n  };\n\n  const handleAddToCart = () => {\n    addToCart(product);\n    setIsModalOpen(false);\n  };\n\n  return (\n    <>\n      <div\n        className=\"bg-white rounded-xl shadow-lg overflow-hidden flex flex-col transition-all duration-300 border border-gray-100 hover:shadow-2xl hover:scale-[1.03] hover:rotate-1 transform\"\n        style={{\n          animation: `slideInUp 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) ${index * 0.1}s both`,\n        }}\n      >\n        {/* Clickable Image - PERFECT SQUARE FOR ALL SCREEN SIZES */}\n        <button\n          onClick={handleImageClick}\n          className=\"relative block w-full aspect-square bg-gray-100 cursor-pointer group overflow-hidden\"\n        >\n          <Image\n            src={product.imageUrl}\n            alt={product.title}\n            fill\n            style={{ objectFit: 'cover' }}\n            className=\"transition-all duration-500 group-hover:opacity-80 group-hover:scale-110\"\n            sizes=\"(max-width: 640px) 100vw, (max-width: 768px) 50vw, (max-width: 1024px) 33vw, 25vw\"\n            onError={(e) => {\n              e.currentTarget.src = \"/placeholder-product.png\";\n              e.currentTarget.style.objectFit = 'contain';\n            }}\n          />\n\n          {/* Overlay with \"View Details\" text */}\n          <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-300 flex items-center justify-center\">\n            <span className=\"text-white font-bold text-sm sm:text-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n              View Details\n            </span>\n          </div>\n        </button>\n\n        {/* RESPONSIVE PADDING */}\n        <div className=\"p-2 sm:p-3 md:p-4 flex flex-col flex-grow\">\n          {/* Title and Category using brand colors - RESPONSIVE TEXT */}\n          <p className=\"text-[9px] sm:text-[10px] font-medium text-secondary-color uppercase tracking-wider mb-0.5\">\n            {product.category}\n          </p>\n          <h3 className=\"text-sm sm:text-base font-semibold text-text-color mb-1 line-clamp-2\">\n            <Link href={`/products/${product.id}`} className=\"hover:text-primary-color transition-colors\">\n              {product.title}\n            </Link>\n          </h3>\n\n          {/* Price using primary color - RESPONSIVE TEXT */}\n          <div className=\"text-base sm:text-lg font-bold text-primary-color mb-2\">\n            {formatCurrency(product.price)}\n          </div>\n\n          {/* Add to Cart Button (Animated) - RESPONSIVE */}\n          <button\n            onClick={handleAddToCart}\n            className=\"w-full bg-primary-color text-white py-1 sm:py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 hover:bg-secondary-color focus:ring-2 focus:ring-secondary-color focus:ring-offset-2 mt-auto\"\n          >\n            Add to Cart\n          </button>\n        </div>\n      </div>\n\n      {/* Product Description Modal */}\n      <ProductDescriptionModal\n        product={product}\n        isOpen={isModalOpen}\n        onClose={() => setIsModalOpen(false)}\n      />\n\n      <style jsx>{`\n@keyframes slideInUp {\n  from {\n    opacity: 0;\n    transform: translateX(-50px) translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0) translateY(0);\n  }\n}\n      `}</style>\n    </>\n  );\n};\n\nexport default ProductCard;